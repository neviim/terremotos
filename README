Terremotos:
  
      As consulta a base das ultimas 200 ocorrencia de terremoto no mundo:

            Últimas 200 ocorrências de terremotos ocorridas no mundo, este script faz a leitura por scraping desta lista
            armazena em um banco de dados Mongodb e ao ser executado novamente ele verifica se os dados recebidos estão
            gravados, não estando efetua a inserção evitando haver duplicação na base podendo ser executado quantas vezes
            for necessária, ele só fará o incremento caso seja uma nova ocorrência.


      Dependencias:

            pip install -r requirements.txt

            ou

            pip install requests
            pip install pymongo
            pip install lxml
            pip install pytz


      VsCode:

            settings.json

                  {
                        "python.pythonPath": "\\__CondaVirtual\\pytr37\\python"
                  }


      Banco de dados: 

            Mongodb é considerado que esteja Up
            com o banco e a collection criada.

                  Cria database...: terremotos
                  Cria Collections: registros


      Ferramentas utilizadas:

            Python 3.7
            Robo3T 1.2
            VsCode 1.27.1


      Classe implementada:

            AlertaNt7Terremotos()

                  Metodos:

                         cripto_md5(self, texto, encoding='utf-8')
                         cripto_sha1(self, texto, encoding='utf-8')
                         get_latitude(self, novo_link)
                         get_scraping(self)
                         formato_json(self, terremotos)
                         data_hora(self, localidade='America/Sao_Paulo', formato='%d/%m/%Y %H:%M')
                         grava_novas_ocorrencias(self, listjson, host='devops.joaopauloii', porta=27017)
      

      Modo de uso:

            import alerta_nt7 as tr 

            # utilizando class alertaNt7Terremotos estrair dados
            url = 'http://monitorglobal.com.br/terremotos.html'
            tjson = []

            # conecta no site e captura as 200 ultimas ocorrencias
            terremotos = tr.AlertaNt7Terremotos(url)
            scrap = terremotos.scraping()
            listjson = terremotos.cria_json(scrap)

            # os insidentes que nao estiver no banco serão gravados.
            terremotos.grava_novas_ocorrencias(listjson)

            # retorna data e hora local em dois formatos
            data1, data2 = terremotos.data_hora()
            print(data1, data2)           



      Maquina virtual: ~/virtual/py367

            Utilizando python 3.7

            $ source ~/virtual/py36/bin/activate
                        
            (py37) ➜
            (py37) ➜
            (py37) ➜ python alerta_nt7.py 



Git:

      git config --global user.email "you@example.com"
      git config --global user.name "Your Name"
      git status

      git add *
      git commit -m "Alteracao na estrutura da base de dados."
      git commit -a -m "Change titles and styling on homepage"  # com este comando pode omitir a etapa do (git add)
      
      git push origin master


Pesquisa mongodb:

      db.getCollection('registros').find({})
      db.getCollection('registros').find({"magnitude": {"$gt":"5.5"}})
      db.getCollection('registros').find({"magnitude": {"$gt":"5.5"}}).count()